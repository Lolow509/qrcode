<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Print Qr Code</title>

     <script src="https://cdn.jsdelivr.net/npm/easyqrcodejs@4.6.1/dist/easy.qrcode.min.js"></script>
  
      <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsenui.css">
      <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsen-css-components.min.css">
      <script src="https://unpkg.com/onsenui/js/onsenui.min.js"></script>
      <script src="https://code.jquery.com/jquery-3.6.3.js"></script>


    <style>
      .bgCanvas {
    background: linear-gradient(to left, turquoise, greenyellow);
    display: flex;
    justify-content: center;
    align-items: center;
    height: 180px;
    width: 90%;
    margin: auto;
    border-radius: 30px;
    margin-bottom: 20px;
      }

      
.qrCanvas {
    width: 84%;
    padding: 5px 5px 10px 5px;
    background-color: white;
    height: 155px;
    margin-left: auto;
    margin-right: auto;
    border-radius: 30px;
    text-align: center;
  }



@media print {
 
  #qrcode{
    grid-template-columns: repeat(3, 1fr)!important;
    row-gap: 50px;
  }
}

      
    </style>
    
  </head>

<body>

<ons-page>


  <ons-button onclick="printQrcodeOnly()"> Imprimer </ons-button>

  <div id="alt_qrCode" style="background-color:#fff;text-align: center; display: grid; grid-template-columns: repeat(2, 1fr); gap:10px">
  
  </div>


  
  
  
  </ons-page>

</body>




<script>
table = [{"timestamps":1710000013,"nom":"tab1","nomUser":"Thomas Leroy"},
         {"timestamps":1710000014,"nom":"tab2","nomUser":"Paul Morel"},
         {"timestamps":1710000015,"nom":"tab3","nomUser":"Léa Fontaine"},
         {"timestamps":1710000016,"nom":"tab4","nomUser":"Sophie Martin"},
         {"timestamps":1710000017,"nom":"tab5","nomUser":"Emma Lefevre"},
         {"timestamps":1710000013,"nom":"tab6","nomUser":"Thomas Leroy"},
         {"timestamps":1710000014,"nom":"tab7","nomUser":"Paul Morel"},
         {"timestamps":1710000015,"nom":"tab8","nomUser":"Léa Fontaine"},
         {"timestamps":1710000016,"nom":"tab9","nomUser":"Sophie Martin"},
         {"timestamps":1710000017,"nom":"tab10","nomUser":"Emma Lefevre"},
         {"timestamps":1710000013,"nom":"tab11","nomUser":"Thomas Leroy"},
         {"timestamps":1710000014,"nom":"tab12","nomUser":"Paul Morel"},
         {"timestamps":1710000015,"nom":"tab13","nomUser":"Léa Fontaine"},
         {"timestamps":1710000016,"nom":"tab14","nomUser":"Sophie Martin"},
         {"timestamps":1710000017,"nom":"tab15","nomUser":"Emma Lefevre"},
         {"timestamps":1710000013,"nom":"tab16","nomUser":"Thomas Leroy"},
         {"timestamps":1710000014,"nom":"tab17","nomUser":"Paul Morel"},
         {"timestamps":1710000015,"nom":"tab18","nomUser":"Léa Fontaine"},
         {"timestamps":1710000016,"nom":"tab19","nomUser":"Sophie Martin"},
         {"timestamps":1710000017,"nom":"tab20","nomUser":"Emma Lefevre"}]



  addEventListener("DOMContentLoaded", (event) => {
     createqrCode()
 
  })


function createqrCode(){
  document.querySelector('#alt_qrCode').innerHTML = ""
  
  table.forEach((item, index) => {
   
   document.querySelector('#alt_qrCode').innerHTML += `<div style="text-align:center">
    <p> <b>${item.nb}</b></p>
  <img src="https://api.qrserver.com/v1/create-qr-code/?data=https://www.google.com/search?q=${item.nb}&size=150x150" alt="QR Google">
</div>`

  })
}




  function printQrcodeOnly() {
  var content = document.getElementById('alt_qrCode').outerHTML;

  var printWindow = window.open('', '', 'height=800,width=800');
  printWindow.document.write(`
    <html>
      <head>
        <title>Impression QR Code</title>
        <style>
          body { margin: 0; padding: 20px; font-family: sans-serif; background: white; }
          #qrcode > * { page-break-inside: avoid; break-inside: avoid; margin: 10px 0; }
        </style>
      </head>
      <body>
        Mes tables
        ${content}
        <script>
          window.onload = function() {
            window.focus();
            window.print();
            window.close();
          }
        </script>
      </body>
    </html>
  `);
  printWindow.document.close();
}
  
 
</script>

</html>
